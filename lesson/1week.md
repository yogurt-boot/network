# 그림책 #1

Assignee: yun0 hong
Study: Network

# 1. 웹과 네트워크의 기본에 대해 알아보자

**웹 브라우저**는 **URL**을 가지고 **HTTP** 프로토콜로 **웹 서버**로부터 **리소스**를 얻는다.

`웹 브라우저=클라이언트`

`프로토콜=약속`

## 웹의 출생

웹은 멀리 떨어진 사람과 지식을 공유하기 위해서 태어났다. (1989.03)

`하이퍼텍스트=여러 문서를 상호간에 관련 짓는 방법`

### WWW

**HTML** + **HTTP** + **URL**

`HTML=문서 기술 언어`

`HTTP=문서 전송 프로토콜`

`URL=문서의 주소를 지정하는 방법`

## 웹의 성장

(1990.11) 최초 웹 서버&웹 브라우저 개발=CERN

(1993) 한국 첫 홈페이지=카이스트

(1990) HTML1.0=초안 상태로 폐기

(1993.03) 모자이크(Mosaic)=현 웹 브라우저의 선조

(1994.12) 넷스케이프 내비게이터 등장

(1995) 인터넷 익스플로러 등장, 아파치 등장

아파치(Apache)=현재 웹 서버 표준 중 하나

(1995) 마소와 넷스케이프의 브라우저 경쟁=웹 표준화 싹 무시😡

(2000) 넷스케이프 망하면서 안정

(2004) 모질라 파이어폭스 등장=제 2차 브라우저 전쟁 시작

## 진보 안하는 HTTP

### HTTP/0.9

1990년 첫 등장

### HTTP/1.0

1996.05 등장

RFC1945

아직도 현역

### HTTP/1.1

1997.01 등장

현재 **가장 많이 사용**되는 버전

RFC2068 → RFC2616

### HTTP/2.0

차세대

스트림을 사용

## 네트워크의 기본은 TCP/IP

인터넷을 포함하여 일반적으로 사용되고 있는 네트워크는 **TCP/IP**라는 프로토콜에서 움직이고 있다. 

→ HTTP는 그 중 하나

### TCP/IP는 프로토콜의 집합

서로 다른 하드웨어와 운영체제를 가지고 서로 통신을 하기 위해서는 규칙이 필요하다. 

→ 프로토콜

케이블 규격, IP 주소 지정 방법, 떨어진 상대를 찾는 방법, 그 곳에 도달하는 순서, 웹을 표시하기 위한 순서 등 인터넷과 관련된 모든 프로토콜을 모은 것이 TCP/IP이다.

`TCP/IP=IP 프로토콜을 사용한 통신에서 사용되고 있는 프로토콜을 총칭한 것`

### TCP/IP의 계층

**애플리케이션 계층, 트랜스포트 계층, 네트워크 계층, 링크 계층** (4계층)

**계층화한 이유?**

- 사양이 변경되면 해당 계층만 바꾸면 된다.
- 각 계층은 연결부만 결정되어 있어 내부는 자유롭게 설계할 수 있다.
- 설계가 편하다. 
  ex) 애플리케이션은 애플리케이션만 고려하면 되고,
         메시지 전달 루트나 전달이 잘 되는지 여부는 고려하지 않아도 된다.

![다운로드.png](images/1weeek/%E1%84%83%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%85%E1%85%A9%E1%84%83%E1%85%B3.png)

**애플리케이션 계층**

유저에게 제공되는 애플리케이션에서 사용하는 통신을 담당

`FTP, DNS, HTTP`

**트랜스포트 계층**

애플리케이션 계층에 네트워크로 접속된 2대의 컴퓨터 사이의 데이터 흐름을 담당

`TCP, UDP`

**네트워크 계층**

네트워크 상에서 패킷의 이동을 담당

`패킷=전송하는 데이터의 최소 단위`

어떠한 경로(절차)를 거쳐 패킷을 보낼지 결정

인터넷에서는 상대 컴퓨터에 도달하는 동안에 여러 대의 컴퓨터랑 네트워크 기기를 거쳐 배송된다.
그 여러 가지 선택지 중에 하나의 길을 결정하는 것이 네트워크 계층의 역할이다.

**링크 계층**(=데이터 링크 계층=네트워크 인터페이스 계층)

네트워크에 접속하는 하드웨어적인 부분을 담당

`디바이스 드라이버, 네트워크 인터페이스 카드(NIC), 케이블`

## TCP/IP 통신의 흐름

![download.png](images/1weeek/download.png)

![KakaoTalk_Photo_2021-09-04-23-24-51.jpeg](images/1weeek/KakaoTalk_Photo_2021-09-04-23-24-51.jpeg)

### HTTP의 경우

**송신**

애플리케이션 계층(HTTP) : 어느 웹 페이지를 보고싶다라는 HTTP 리퀘스트를 지시

트랜스포트 계층(TCP) : HTTP 메시지를 조각내서 안내 번호, 포트 번호를 붙여 네트워크 계층에 전달

네트워크 계층(IP) : 수신지 MAC 주소를 추가해서 링크 계층에 전달

송신 시 각 계층을 거칠 때마다 **헤더**(해당 계층에 필요한 정보)를 추가한다.

수신 시 각 계층을 거칠 때마다 사용한 헤더를 삭제한다.

=캡슐화

## IP, TCP, DNS 프로토콜

### IP → 배송 담당

네트워크 계층

**Internet Protocol** → 이름처럼 인터넷을 활용하는 거의 대부분의 시스템이 IP를 이용

`IP ≠ IP 주소`

개개의 패킷을 상대방에게 전달하는 것

상대방에게 전달하기까지 필요한 요소 : 대표적으로 IP 주소, MAC 주소

`IP 주소=각 노드에 부여된 주소`

`MAC 주소=각 네트워크 카드에 할당된 고유의 주소`

IP 주소는 MAC 주소와 결부된다.

IP 주소는 변경 가능하지만 MAC 주소는 기본적으로 변경 불가

**통신은 ARP를 이용하여 MAC 주소에서 한다.**

인터넷에서 통신 상대가 같은 랜선 내에 있을 경우는 적어서
여러 대의 컴퓨터와 네트워크 기기를 중계해서 상대방에게 도착한다.
중계하는 동안에는 다음으로 중계할 곳의 MAC 주소를 사용하여 목적지를 찾아간다.
이때, **ARP** 프로토콜을 사용한다.

**ARP(Address Resolution Protocol)**

수신지의 IP 주소를 바탕으로 MAC 주소를 알아낸다.

**그 누구도 인터넷 전체를 파악하고 있지는 않다.**
중계 도중의 컴퓨터와 라우터 등의 네트워크 기기는 대략적인 목적지만을 알고 있다.
이 시스템을 **라우팅**이라고 하는데 택배 배송과 흡사하다.
👨🏻‍🦰 → 우리동네 택배 집배소 → 걔네동네 택배 집배소 → 👩‍🦰

### TCP → 신뢰성 담당

트랜스포트 계층

신뢰성 있는 바이트 스트림 서비스를 제공

`바이트 스트림 서비스=용량이 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 쪼개서 관리하는 것`

`신뢰성=보낸 후 정확하게 도착했는지 확인`

신뢰성을 보증하기 위해 3-way Handshaking 등 다양한 시스템을 갖추고 있다.

**3-way Handshaking**

TCP가 상대에게 확실하게 데이터를 보내기 위해 사용하는 방법

패킷을 보내고 나서 바로 끝내는 것이 아니라 보내졌는지 여부를 상대에게 확인한다.

이때, `SYN`, `ACK`라는 TCP 플래그를 사용한다.

통신이 도중에 끊기면 TCP는 패킷을 재전송한다.

![Screen Shot 2021-09-05 at 12.20.03 AM.png](images/1weeek/Screen_Shot_2021-09-05_at_12.20.03_AM.png)

[TCP 3 way-handshake(SYN, ACK)](https://websecurity.tistory.com/93)

### DNS → 이름 해결 담당

응용 계층

도메인 이름과 IP 주소 이름 확인을 제공

도메인명으로 IP 주소를 알아내거나 IP 주소로 도메인명을 알아낸다.

## URI와 URL

### URI(Uniform Resource Identifiers)

리소스 식별자

스키마를 나타내는 리소스를 식별하기 위한 식별자

`스키마=리소스를 얻기 위한 수단에 이름을 붙이는 방법` ex) `http`, `ftp`, `mailto`, `telnet`, `file`

**Uniform**
통일된 서식을 결정하는 것
→ 여러 가지 종류의 리소스 지정 방법을 같은 맥락에서 구별없이 취급할 수 있게 한다.
     새로운 스키마(http:, ftp 등)의 도입을 용이하게 한다.
**Resource**
식별 가능한 모든 것
도큐먼트 파일, 이미지, 서비스 등 다른 것과 구별할 수 있는 것은 모두 리소스
**Identifier**
리소스를 참조하는 오브젝트. 식별자

 

### URL

URL은 URI의 서브셋. 리소스의 장소(네트워크 상의 위치)를 나타내는 것

완전 수식 절대 URL

```elm
http://user:pass@www.example.com:80/dir/index.html?uid=1#ch1
스키마   자격정보    서버주소          서버 계층적 파일      쿼리   프래그먼트
       (크리덴셜)                  포트    패스        문자열   식별자
```

**스키마** : 리소스를 얻기 위해 사용하는 프로토콜을 지시. 대소문자 무시.

**자격정보(크리덴셜)** : 리소스를 취득하기 위한 자격 정보. 유저명과 패스워드를 지정. 옵셔널.

**서버 주소** : DNS 이름이나 IP 주소. IPv6주소는 []대괄호로 묶어서 지정.

**서버 포트** : 서버의 접속 대상이 되는 네트워크 포트 번호를 지정. 옵셔널. 생략하면 디폴트 포트 사용.

**계층적 파일 패스** : 특정 리소스를 식별하기 위해서 서버 상의 파일 패스를 지정. UNIX 디렉토리 지정과 비슷.

**쿼리 문자열** : 임의의 파라미터를 넘겨주기 위해 사용. 옵셔널.

**프래그먼트 식별자** : 주로 취득한 리소스에서 서브 리소스(도큐먼트 중간의 위치)를 가리키기 위해 사용. 옵셔널.

---

# 과제

## **OSI 7 Layer에 대해서 설명하세요.**

- Answer

  ![OSI_7_계층.jpeg](images/1weeek/OSI_7_%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC.jpeg)

  ![Screen Shot 2021-09-05 at 12.49.40 AM.png](images/1weeek/Screen_Shot_2021-09-05_at_12.49.40_AM.png)

![다운로드.png](images/1weeek/%E1%84%83%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%85%E1%85%A9%E1%84%83%E1%85%B3.png)

## **DNS에 대해서 설명하세요.**

- Answer

  도메인 네임과 IP 주소를 변환해주는 시스템

  ### **Local DNS Server** vs **Root DNS Server**

  **Local DNS Server** : 내가 사용하는 통신사의 DNS서버. 

  **Root DNS Server** : 최상위 DNS서버. 

  **TLD Server** : 최상위 도메인 서버.

  👩 → **Local → Root → Top-Level Domain → ... → Local → 👩**

  Local에 없으면 Local이 Root에 물어본다.

  Root에 없으면 대신 TLD(kr, com ...) 주소를 알려준다.

  Local이 다시 TLD에 물어본다.

  =Recursive Query

  ![download (1).png](images/1weeek/download_(1).png)

  ![download (2).png](images/1weeek/download_(2).png)

  효율성을 높이기 위해 PC에서는 DNS Cache를 가지고 있다.

  DNS 서버 통신은 기본적으로 DHCP 프로토콜을 사용하며, 해당 프로토콜은 UDP방식이다.

  Default 포트는 53번 포트이다.

  [DNS에 대한 설명(디테일 하게....)](https://hwan-shell.tistory.com/320)

# 과제
- OSI 7 Layer에 대해서 설명하세요.
- DNS에 대해서 설명하세요.
